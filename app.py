import streamlit as st

# --- Διαμόρφωση Σελίδας ---
st.set_page_config(page_title="Ο Γυμναστής-Bot", page_icon="🤖")

# --- SIDEBAR: Λογότυπο & Πληροφορίες (Η ΠΡΟΣΘΗΚΗ ΣΑΣ) ---
with st.sidebar:
    # 1. Λογότυπο από το GitHub
    # ΣΗΜΕΙΩΣΗ: Βεβαιωθείτε ότι το path είναι σωστό και το repo public.
    # Υποθέτω ότι το branch σας είναι 'main'. Αν είναι 'master', αλλάξτε το.
    logo_url = "https://raw.githubusercontent.com/GiorgosBouh/test_sub8/main/logo1.png"
    st.image(logo_url, width=150) # Μπορείτε να αλλάξετε το πλάτος

    st.divider() # Διακριτική διαχωριστική γραμμή

    # 2. Κείμενο Αναφοράς και Άδειας
    st.caption(
        "Αυτή η εφαρμογή (application) αναπτύχθηκε τον Νοέμβριο του 2025 στα πλαίσια της επιμόρφωσης "
        "από τον **Γεώργιο Μπουχουρά**."
    )
    st.caption(
        "Μπορεί να χρησιμοποιηθεί ελεύθερα για τους σκοπούς που αναφέρονται "
        "από όλους τους εκπαιδευτικούς."
    )
    # Προτείνω την άδεια Creative Commons (CC BY) που επιτρέπει χρήση με αναφορά
    st.caption("Άδεια Χρήσης: [Creative Commons CC BY 4.0](https://creativecommons.org/licenses/by/4.0/)")

# --- ΚΥΡΙΑ ΕΦΑΡΜΟΓΗ ---
st.title("🤖 Ο Γυμναστής-Bot της Στ' Τάξης")
st.write(f"Γεια! Είμαι ο ψηφιακός βοηθός Φυσικής Αγωγής.")
st.write("Πάρε το **Φύλλο Καταγραφής** σου από την αυλή και ας ξεκινήσουμε!")

# --- 1. ΕΙΣΑΓΩΓΗ ΔΕΔΟΜΕΝΩΝ (C) ---
st.header("1. Τι έκανες στην αυλή;")

# Χρήση st.columns για καλύτερη διάταξη
col1, col2 = st.columns(2)

with col1:
    pushups = st.number_input("Πόσες Κάμψεις έκανες;", min_value=0, step=1)
    plank = st.number_input("Πόσα δευτερόλεπτα έκανες Σανίδα;", min_value=0, step=1)

with col2:
    feeling_pushups = st.selectbox(
        "Πώς σου φάνηκαν οι Κάμψεις;",
        ["", "Εύκολο", "Μέτριο", "Κουραστικό", "Πολύ Κουραστικό"]
    )
    feeling_plank = st.selectbox(
        "Πώς σου φάνηκε η Σανίδα;",
        ["", "Εύκολο", "Μέτριο", "Κουραστικό", "Πολύ Κουραστικό"]
    )

# --- 2. ΛΟΓΙΚΗ "CHATBOT" (P + T) ---
if st.button("🤖 Πάτα για Ανάλυση!"):
    st.header("2. Η Ανάλυσή μου:")
    
    # Έλεγχος αν έχουν συμπληρωθεί τα πεδία
    if not feeling_pushups or not feeling_plank:
        st.warning("Παρακαλώ, συμπλήρωσε πώς σου φάνηκαν *και* οι δύο ασκήσεις!")
    else:
        # Λογική για Κάμψεις
        if feeling_pushups == "Πολύ Κουραστικό" or pushups < 10:
            st.info("💪 **Κάμψεις:** Καλή προσπάθεια! Αυτή η άσκηση χτίζει **Μυϊκή Δύναμη** στα χέρια και το στήθος. Φαίνεται ότι αυτός ο τομέας ήταν μια πρόκληση. Είναι τέλειο σημείο για να ξεκινήσεις τη βελτίωσή σου!")
        elif feeling_pushups == "Μέτριο" and pushups >= 10:
            st.success("💪 **Κάμψεις:** Μπράβο! Έχεις ήδη μια καλή βάση στη Μυϊκή Δύναμη. Μπορείς να πας ακόμα ψηλότερα!")
        else:
            st.success("💪 **Κάμψεις:** Εξαιρετική δουλειά! Η δύναμή σου είναι σε πολύ καλό επίπεδο.")

        # Λογική για Σανίδα
        if feeling_plank == "Πολύ Κουραστικό" or plank < 20:
            st.info("🧘 **Σανίδα:** Η σανίδα είναι ζόρικη! Δουλεύει τον 'πυρήνα' (κοιλιά/ράχη). Είναι σημαντικός για τη στάση του σώματός σου. Αξίζει να τον δυναμώσουμε!")
        else:
            st.success("🧘 **Σανίδα:** Πολύ καλά! Ο πυρήνας σου είναι δυνατός!")

        # --- 3. ΚΑΘΟΡΙΣΜΟΣ ΣΤΟΧΩΝ (C+P+T) ---
        st.header("3. Ο Επόμενος Στόχος σου")
        st.write("Με βάση τα παραπάνω, τι θα ήθελες να πετύχεις την επόμενη φορά;")
        
        goal = st.text_area("Γράψε τον στόχο σου (π.χ. 'Θέλω να κάνω 3 κάμψεις παραπάνω')")
        
        if goal:
            st.balloons()
            st.success(f"Τέλειος ο στόχος σου: '{goal}'. Καταγράφηκε! Καλή προπόνηση!")