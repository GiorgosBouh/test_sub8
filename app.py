import streamlit as st

# --- Î”Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ· Î£ÎµÎ»Î¯Î´Î±Ï‚ ---
st.set_page_config(page_title="ÎŸ Î“Ï…Î¼Î½Î±ÏƒÏ„Î®Ï‚-Bot", page_icon="ğŸ¤–")

# --- SIDEBAR: Î›Î¿Î³ÏŒÏ„Ï…Ï€Î¿ & Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ---
with st.sidebar:
    logo_url = "https://raw.githubusercontent.com/GiorgosBouh/test_sub8/main/logo1.png"
    st.image(logo_url, width=150)
    st.divider()
    st.caption(
        "Î‘Ï…Ï„Î® Î· ÎµÏ†Î±ÏÎ¼Î¿Î³Î® (application) Î±Î½Î±Ï€Ï„ÏÏ‡Î¸Î·ÎºÎµ Ï„Î¿Î½ ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿ Ï„Î¿Ï… 2025 ÏƒÏ„Î± Ï€Î»Î±Î¯ÏƒÎ¹Î± Ï„Î·Ï‚ ÎµÏ€Î¹Î¼ÏŒÏÏ†Ï‰ÏƒÎ·Ï‚ sub8"
        "Î±Ï€ÏŒ Ï„Î¿Î½ **Î“ÎµÏÏÎ³Î¹Î¿ ÎœÏ€Î¿Ï…Ï‡Î¿Ï…ÏÎ¬ (gboucho@gym.auth.gr)**."
    )
    st.caption(
        "ÎœÏ€Î¿ÏÎµÎ¯ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î·Î¸ÎµÎ¯ ÎµÎ»ÎµÏÎ¸ÎµÏÎ± Î³Î¹Î± Ï„Î¿Ï…Ï‚ ÏƒÎºÎ¿Ï€Î¿ÏÏ‚ Ï€Î¿Ï… Î±Î½Î±Ï†Î­ÏÎ¿Î½Ï„Î±Î¹ "
        "Î±Ï€ÏŒ ÏŒÎ»Î¿Ï…Ï‚ Ï„Î¿Ï…Ï‚ ÎµÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÎ¿ÏÏ‚."
    )
    st.caption("Î†Î´ÎµÎ¹Î± Î§ÏÎ®ÏƒÎ·Ï‚: [Creative Commons CC BY 4.0](https://creativecommons.org/licenses/by/4.0/)")

# --- Î‘Î¡Î§Î™ÎšÎŸÎ ÎŸÎ™Î—Î£Î— "ÎœÎÎ—ÎœÎ—Î£" (Session State) ---
# Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ ÎºÎ»ÎµÎ¹Î´Î¯. Î“Î¹Î± Î½Î± "Î¸Ï…Î¼Î¬Ï„Î±Î¹" Î· ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Ï„Î¹Ï‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚.
if 'analysis_done' not in st.session_state:
    st.session_state.analysis_done = False
if 'plan_text' not in st.session_state:
    st.session_state.plan_text = ""
if 'goal' not in st.session_state:
    st.session_state.goal = ""


# --- ÎšÎ¥Î¡Î™Î‘ Î•Î¦Î‘Î¡ÎœÎŸÎ“Î— ---
st.title("ğŸ¤– ÎŸ Î“Ï…Î¼Î½Î±ÏƒÏ„Î®Ï‚-Bot Ï„Î·Ï‚ Î£Ï„' Î¤Î¬Î¾Î·Ï‚")
st.write(f"Î“ÎµÎ¹Î±! Î•Î¯Î¼Î±Î¹ Î¿ ÏˆÎ·Ï†Î¹Î±ÎºÏŒÏ‚ Î²Î¿Î·Î¸ÏŒÏ‚ Î¦Ï…ÏƒÎ¹ÎºÎ®Ï‚ Î‘Î³Ï‰Î³Î®Ï‚.")
st.write("Î Î¬ÏÎµ Ï„Î¿ **Î¦ÏÎ»Î»Î¿ ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î®Ï‚** ÏƒÎ¿Ï… Î±Ï€ÏŒ Ï„Î·Î½ Î±Ï…Î»Î® ÎºÎ±Î¹ Î±Ï‚ Î¾ÎµÎºÎ¹Î½Î®ÏƒÎ¿Ï…Î¼Îµ!")

# --- 1. Î•Î™Î£Î‘Î“Î©Î“Î— Î”Î•Î”ÎŸÎœÎ•ÎÎ©Î (C) ---
st.header("1. Î¤Î¹ Î­ÎºÎ±Î½ÎµÏ‚ ÏƒÏ„Î·Î½ Î±Ï…Î»Î®;")
col1, col2 = st.columns(2)
with col1:
    pushups = st.number_input("Î ÏŒÏƒÎµÏ‚ ÎšÎ¬Î¼ÏˆÎµÎ¹Ï‚ Î­ÎºÎ±Î½ÎµÏ‚;", min_value=0, step=1)
    plank = st.number_input("Î ÏŒÏƒÎ± Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î± Î­ÎºÎ±Î½ÎµÏ‚ Î£Î±Î½Î¯Î´Î±;", min_value=0, step=1)
with col2:
    feeling_pushups = st.selectbox(
        "Î ÏÏ‚ ÏƒÎ¿Ï… Ï†Î¬Î½Î·ÎºÎ±Î½ Î¿Î¹ ÎšÎ¬Î¼ÏˆÎµÎ¹Ï‚;",
        ["", "Î•ÏÎºÎ¿Î»Î¿", "ÎœÎ­Ï„ÏÎ¹Î¿", "ÎšÎ¿Ï…ÏÎ±ÏƒÏ„Î¹ÎºÏŒ", "Î Î¿Î»Ï ÎšÎ¿Ï…ÏÎ±ÏƒÏ„Î¹ÎºÏŒ"]
    )
    feeling_plank = st.selectbox(
        "Î ÏÏ‚ ÏƒÎ¿Ï… Ï†Î¬Î½Î·ÎºÎµ Î· Î£Î±Î½Î¯Î´Î±;",
        ["", "Î•ÏÎºÎ¿Î»Î¿", "ÎœÎ­Ï„ÏÎ¹Î¿", "ÎšÎ¿Ï…ÏÎ±ÏƒÏ„Î¹ÎºÏŒ", "Î Î¿Î»Ï ÎšÎ¿Ï…ÏÎ±ÏƒÏ„Î¹ÎºÏŒ"]
    )

# --- 2. ÎšÎŸÎ¥ÎœÎ Î™ Î‘ÎÎ‘Î›Î¥Î£Î—Î£ ---
if st.button("ğŸ¤– Î Î¬Ï„Î± Î³Î¹Î± Î‘Î½Î¬Î»Ï…ÏƒÎ·!"):
    if not feeling_pushups or not feeling_plank or feeling_pushups == "" or feeling_plank == "":
        st.warning("Î Î±ÏÎ±ÎºÎ±Î»Ï, ÏƒÏ…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎµ Ï€ÏÏ‚ ÏƒÎ¿Ï… Ï†Î¬Î½Î·ÎºÎ±Î½ *ÎºÎ±Î¹* Î¿Î¹ Î´ÏÎ¿ Î±ÏƒÎºÎ®ÏƒÎµÎ¹Ï‚!")
        st.session_state.analysis_done = False # ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿Ï… Î²Î®Î¼Î±Ï„Î¿Ï‚
    else:
        # Î‘Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Ï…Î¼Îµ ÏƒÏ„Î· "Î¼Î½Î®Î¼Î·" ÏŒÏ„Î¹ Î· Î±Î½Î¬Î»Ï…ÏƒÎ· Î­Î³Î¹Î½Îµ
        st.session_state.analysis_done = True
        
        # Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ¼Îµ Ï„Î¿ ÎºÎµÎ¯Î¼ÎµÎ½Î¿ Î±Î½Î¬Î»Ï…ÏƒÎ·Ï‚ ÎºÎ±Î¹ Ï„Î¿ Î±Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Ï…Î¼Îµ
        analysis_texts = []
        if feeling_pushups == "Î Î¿Î»Ï ÎšÎ¿Ï…ÏÎ±ÏƒÏ„Î¹ÎºÏŒ" or pushups < 10:
            analysis_texts.append("ğŸ’ª **ÎšÎ¬Î¼ÏˆÎµÎ¹Ï‚:** ÎšÎ±Î»Î® Ï€ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹Î±! Î‘Ï…Ï„Î® Î· Î¬ÏƒÎºÎ·ÏƒÎ· Ï‡Ï„Î¯Î¶ÎµÎ¹ **ÎœÏ…ÏŠÎºÎ® Î”ÏÎ½Î±Î¼Î·** ÏƒÏ„Î± Ï‡Î­ÏÎ¹Î± ÎºÎ±Î¹ Ï„Î¿ ÏƒÏ„Î®Î¸Î¿Ï‚. Î¦Î±Î¯Î½ÎµÏ„Î±Î¹ ÏŒÏ„Î¹ Î±Ï…Ï„ÏŒÏ‚ Î¿ Ï„Î¿Î¼Î­Î±Ï‚ Î®Ï„Î±Î½ Î¼Î¹Î± Ï€ÏÏŒÎºÎ»Î·ÏƒÎ·. Î•Î¯Î½Î±Î¹ Ï„Î­Î»ÎµÎ¹Î¿ ÏƒÎ·Î¼ÎµÎ¯Î¿ Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Ï„Î· Î²ÎµÎ»Ï„Î¯Ï‰ÏƒÎ® ÏƒÎ¿Ï…!")
        else:
            analysis_texts.append("ğŸ’ª **ÎšÎ¬Î¼ÏˆÎµÎ¹Ï‚:** Î•Î¾Î±Î¹ÏÎµÏ„Î¹ÎºÎ® Î´Î¿Ï…Î»ÎµÎ¹Î¬! Î— Î´ÏÎ½Î±Î¼Î® ÏƒÎ¿Ï… ÎµÎ¯Î½Î±Î¹ ÏƒÎµ Ï€Î¿Î»Ï ÎºÎ±Î»ÏŒ ÎµÏ€Î¯Ï€ÎµÎ´Î¿.")

        if feeling_plank == "Î Î¿Î»Ï ÎšÎ¿Ï…ÏÎ±ÏƒÏ„Î¹ÎºÏŒ" or plank < 20:
            analysis_texts.append("ğŸ§˜ **Î£Î±Î½Î¯Î´Î±:** Î— ÏƒÎ±Î½Î¯Î´Î± ÎµÎ¯Î½Î±Î¹ Î¶ÏŒÏÎ¹ÎºÎ·! Î”Î¿Ï…Î»ÎµÏÎµÎ¹ Ï„Î¿Î½ 'Ï€Ï…ÏÎ®Î½Î±' (ÎºÎ¿Î¹Î»Î¹Î¬/ÏÎ¬Ï‡Î·). Î•Î¯Î½Î±Î¹ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÏŒÏ‚ Î³Î¹Î± Ï„Î· ÏƒÏ„Î¬ÏƒÎ· Ï„Î¿Ï… ÏƒÏÎ¼Î±Ï„ÏŒÏ‚ ÏƒÎ¿Ï…. Î‘Î¾Î¯Î¶ÎµÎ¹ Î½Î± Ï„Î¿Î½ Î´Ï…Î½Î±Î¼ÏÏƒÎ¿Ï…Î¼Îµ!")
        else:
            analysis_texts.append("ğŸ§˜ **Î£Î±Î½Î¯Î´Î±:** Î Î¿Î»Ï ÎºÎ±Î»Î¬! ÎŸ Ï€Ï…ÏÎ®Î½Î±Ï‚ ÏƒÎ¿Ï… ÎµÎ¯Î½Î±Î¹ Î´Ï…Î½Î±Ï„ÏŒÏ‚!")
        
        # Î‘Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Ï…Î¼Îµ Ï„Î± Ï€Î¬Î½Ï„Î± ÏƒÏ„Î¿ session_state
        st.session_state.analysis_output = analysis_texts
        st.session_state.goal = "" # ÎšÎ±Î¸Î±ÏÎ¯Î¶Î¿Ï…Î¼Îµ Ï„Î¿Î½ Ï€Î±Î»Î¹ÏŒ ÏƒÏ„ÏŒÏ‡Î¿
        st.session_state.plan_text = "" # ÎšÎ±Î¸Î±ÏÎ¯Î¶Î¿Ï…Î¼Îµ Ï„Î¿ Ï€Î±Î»Î¹ÏŒ Ï€Î»Î¬Î½Î¿


# --- 3. Î•ÎœÎ¦Î‘ÎÎ™Î£Î— Î‘ÎÎ‘Î›Î¥Î£Î—Î£ ÎšÎ‘Î™ Î£Î¤ÎŸÎ§Î©Î (Î‘Î Î•Î§Î•Î™ Î Î‘Î¤Î—Î˜Î•Î™ Î¤ÎŸ ÎšÎŸÎ¥ÎœÎ Î™) ---
if st.session_state.analysis_done:
    st.header("2. Î— Î‘Î½Î¬Î»Ï…ÏƒÎ® Î¼Î¿Ï…:")
    for text in st.session_state.analysis_output:
        if "ÎšÎ±Î»Î® Ï€ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹Î±" in text or "Î¶ÏŒÏÎ¹ÎºÎ·" in text:
            st.info(text)
        else:
            st.success(text)

    st.header("3. ÎŸ Î•Ï€ÏŒÎ¼ÎµÎ½Î¿Ï‚ Î£Ï„ÏŒÏ‡Î¿Ï‚ ÏƒÎ¿Ï…")
    st.write("ÎœÎµ Î²Î¬ÏƒÎ· Ï„Î± Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰, Ï„Î¹ Î¸Î± Î®Î¸ÎµÎ»ÎµÏ‚ Î½Î± Ï€ÎµÏ„ÏÏ‡ÎµÎ¹Ï‚ Ï„Î·Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î· Ï†Î¿ÏÎ¬;")
    
    # Î¤Î¿ Ï€ÎµÎ´Î¯Î¿ ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Î³Î¹Î± Ï„Î¿Î½ ÏƒÏ„ÏŒÏ‡Î¿
    goal_input = st.text_area("Î“ÏÎ¬ÏˆÎµ Ï„Î¿Î½ ÏƒÏ„ÏŒÏ‡Î¿ ÏƒÎ¿Ï… (Ï€.Ï‡. 'Î˜Î­Î»Ï‰ Î½Î± ÎºÎ¬Î½Ï‰ 3 ÎºÎ¬Î¼ÏˆÎµÎ¹Ï‚ Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰')", key="goal_text_area")

    # Î¤ÎŸ ÎÎ•ÎŸ ÎšÎŸÎ¥ÎœÎ Î™ "APPLY" Î ÎŸÎ¥ Î–Î—Î¤Î—Î£Î‘Î¤Î•
    if st.button("ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎµ Ï„Î¿Î½ Î£Ï„ÏŒÏ‡Î¿ Î¼Î¿Ï…"):
        if not goal_input:
            st.warning("Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î³ÏÎ¬ÏˆÎµÎ¹Ï‚ Î­Î½Î±Î½ ÏƒÏ„ÏŒÏ‡Î¿ Ï€ÏÏÏ„Î±!")
            st.session_state.plan_text = "" # Î£Î²Î®Î½Î¿Ï…Î¼Îµ Ï„Î¿ Ï€Î±Î»Î¹ÏŒ Ï€Î»Î¬Î½Î¿ Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹
        else:
            st.session_state.goal = goal_input # Î‘Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Ï…Î¼Îµ Ï„Î¿Î½ ÏƒÏ„ÏŒÏ‡Î¿ ÏƒÏ„Î· Î¼Î½Î®Î¼Î·
            st.balloons()
            st.success(f"Î¤Î­Î»ÎµÎ¹Î¿Ï‚ Î¿ ÏƒÏ„ÏŒÏ‡Î¿Ï‚ ÏƒÎ¿Ï…: '{st.session_state.goal}'. ÎšÎ±Ï„Î±Î³ÏÎ¬Ï†Î·ÎºÎµ!")
            
            # Î¤Î¿ Bot Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯ Ï„Î¿ Ï€Î»Î¬Î½Î¿ Î¼Îµ Î²Î¬ÏƒÎ· Ï„Î¿Î½ ÏƒÏ„ÏŒÏ‡Î¿
            st.subheader("ğŸ¤– Î¤Î¿ Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ ÏƒÎ¿Ï… ÎœÎ¯Î½Î¹-Î Î»Î¬Î½Î¿!")
            
            plan_text = f"ÎŸ Î£Ï„ÏŒÏ‡Î¿Ï‚ Î¼Î¿Ï…: {st.session_state.goal}\n\n"
            
            if "ÎºÎ¬Î¼ÏˆÎµÎ¹Ï‚" in st.session_state.goal.lower() or "pushups" in st.session_state.goal.lower():
                plan_text += (
                    "Î“Î¹Î± Î½Î± Ï„Î¿ Ï€ÎµÏ„ÏÏ‡ÎµÎ¹Ï‚, Ï€ÏÎ¿Ï„ÎµÎ¯Î½Ï‰:\n"
                    "1. **3 Ï†Î¿ÏÎ­Ï‚ Ï„Î·Î½ ÎµÎ²Î´Î¿Î¼Î¬Î´Î±** (Ï€.Ï‡. Î”ÎµÏ…Ï„Î­ÏÎ±-Î¤ÎµÏ„Î¬ÏÏ„Î·-Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®).\n"
                    "2. ÎšÎ¬Î½Îµ **3 ÏƒÎµÏ„** ÎºÎ¬Î¼ÏˆÎµÎ¹Ï‚ (Î¼Ï€Î¿ÏÎµÎ¯Ï‚ Î½Î± Î²Î¬Î¶ÎµÎ¹Ï‚ Ï„Î± Î³ÏŒÎ½Î±Ï„Î± ÎºÎ¬Ï„Ï‰ Î±Î½ ÎºÎ¿Ï…ÏÎ¬Î¶ÎµÏƒÎ±Î¹).\n"
                    "3. ÎšÎ¬Î½Îµ ÏŒÏƒÎµÏ‚ ÎµÏ€Î±Î½Î±Î»Î®ÏˆÎµÎ¹Ï‚ Î¼Ï€Î¿ÏÎµÎ¯Ï‚ ÏƒÎµ ÎºÎ¬Î¸Îµ ÏƒÎµÏ„. Î ÏÎ¿ÏƒÏ€Î¬Î¸Î·ÏƒÎµ Ï„Î·Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î· Ï†Î¿ÏÎ¬ Î½Î± ÎºÎ¬Î½ÎµÎ¹Ï‚ +1!"
                )
            elif "ÏƒÎ±Î½Î¯Î´Î±" in st.session_state.goal.lower() or "plank" in st.session_state.goal.lower():
                plan_text += (
                    "Î“Î¹Î± Î½Î± Ï„Î¿ Ï€ÎµÏ„ÏÏ‡ÎµÎ¹Ï‚, Ï€ÏÎ¿Ï„ÎµÎ¯Î½Ï‰:\n"
                    "1. **4 Ï†Î¿ÏÎ­Ï‚ Ï„Î·Î½ ÎµÎ²Î´Î¿Î¼Î¬Î´Î±** (Î±ÎºÏŒÎ¼Î± ÎºÎ±Î¹ Î³Î¹Î± 1 Î»ÎµÏ€Ï„ÏŒ Ï„Î·Î½ Î·Î¼Î­ÏÎ±).\n"
                    "2. ÎšÎ¬Î½Îµ **3 ÏƒÎµÏ„** ÏƒÎ±Î½Î¯Î´Î±.\n"
                    "3. Î ÏÎ¿ÏƒÏ€Î¬Î¸Î·ÏƒÎµ Î½Î± ÎºÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ 5 Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î± Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰ ÏƒÎµ ÎºÎ¬Î¸Îµ ÏƒÎµÏ„!"
                )
            else:
                plan_text += (
                    "Î‘Ï…Ï„ÏŒÏ‚ ÎµÎ¯Î½Î±Î¹ Î­Î½Î±Ï‚ Ï€Î¿Î»Ï Î³ÎµÎ½Î¹ÎºÏŒÏ‚ ÏƒÏ„ÏŒÏ‡Î¿Ï‚. Î“Î¹Î± Î½Î± Ï„Î¿Î½ Ï€ÎµÏ„ÏÏ‡ÎµÎ¹Ï‚, Î¸Ï…Î¼Î®ÏƒÎ¿Ï…:\n"
                    "1. **Î£Ï…Î½Î­Ï€ÎµÎ¹Î±:** ÎšÎ¬Î½Îµ ÎºÎ¬Ï„Î¹ ÎºÎ¬Î¸Îµ Î¼Î­ÏÎ± (Ï€.Ï‡. 10 Î»ÎµÏ€Ï„Î¬ Î¬ÏƒÎºÎ·ÏƒÎ·).\n"
                    "2. **ÎˆÎ½Ï„Î±ÏƒÎ·:** Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î»Î±Ï‡Î±Î½Î¹Î¬Î¶ÎµÎ¹Ï‚ Î»Î¹Î³Î¬ÎºÎ¹!\n"
                    "3. **ÎšÎ±Î»Î® Î´Î¹Î±Ï„ÏÎ¿Ï†Î®:** ÎœÎ·Î½ Î¾ÎµÏ‡Î½Î¬Ï‚ Ï„Î± Ï†ÏÎ¿ÏÏ„Î± ÏƒÎ¿Ï…!"
                )
            
            st.session_state.plan_text = plan_text # Î‘Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Ï…Î¼Îµ Ï„Î¿ Ï€Î»Î¬Î½Î¿ ÏƒÏ„Î· Î¼Î½Î®Î¼Î·
            
    # Î‘Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î®Î´Î· Ï€Î»Î¬Î½Î¿ ÏƒÏ„Î· Î¼Î½Î®Î¼Î·, Ï„Î¿ Î´ÎµÎ¯Ï‡Î½Î¿Ï…Î¼Îµ (Î³Î¹Î± Î½Î± Î¼Î·Î½ ÎµÎ¾Î±Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹)
    if st.session_state.plan_text:
        st.subheader("ğŸ¤– Î¤Î¿ Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ ÏƒÎ¿Ï… ÎœÎ¯Î½Î¹-Î Î»Î¬Î½Î¿!")
        st.markdown(st.session_state.plan_text)
        st.download_button(
            label="ğŸ“¥ ÎšÎ±Ï„Î­Î²Î±ÏƒÎµ Ï„Î¿ Î Î»Î¬Î½Î¿ Î¼Î¿Ï…",
            data=st.session_state.plan_text,
            file_name=f"Î¤Î¿_Î Î»Î±Î½Î¿_ÎœÎ¿Ï….txt"
        )