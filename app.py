import streamlit as st
import os

# --- Î”Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ· Î£ÎµÎ»Î¯Î´Î±Ï‚ ---
st.set_page_config(page_title="Gym-Bot: Î‘Î½Î­Î²Î± Î•Ï€Î¯Ï€ÎµÎ´Î¿!", page_icon="ğŸ†")

# --- SIDEBAR: Î›Î¿Î³ÏŒÏ„Ï…Ï€Î¿ & Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ---
with st.sidebar:
    if os.path.exists("logo1.png"):
        st.image("logo1.png", width=150)
    else:
        st.warning("Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î¿ logo1.png")
        
    st.divider()
    st.caption(
        "Î‘Ï…Ï„Î® Î· ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î±Î½Î±Ï€Ï„ÏÏ‡Î¸Î·ÎºÎµ Ï„Î¿Î½ ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿ Ï„Î¿Ï… 2025 ÏƒÏ„Î± Ï€Î»Î±Î¯ÏƒÎ¹Î± Ï„Î·Ï‚ ÎµÏ€Î¹Î¼ÏŒÏÏ†Ï‰ÏƒÎ·Ï‚ "
        "Î±Ï€ÏŒ Ï„Î¿Î½ **Î“ÎµÏÏÎ³Î¹Î¿ ÎœÏ€Î¿Ï…Ï‡Î¿Ï…ÏÎ¬**."
    )
    st.caption(
        "ÎœÏ€Î¿ÏÎµÎ¯ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î·Î¸ÎµÎ¯ ÎµÎ»ÎµÏÎ¸ÎµÏÎ± Î³Î¹Î± Ï„Î¿Ï…Ï‚ ÏƒÎºÎ¿Ï€Î¿ÏÏ‚ Ï€Î¿Ï… Î±Î½Î±Ï†Î­ÏÎ¿Î½Ï„Î±Î¹ "
        "Î±Ï€ÏŒ ÏŒÎ»Î¿Ï…Ï‚ Ï„Î¿Ï…Ï‚ ÎµÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÎ¿ÏÏ‚."
    )
    st.caption("Î†Î´ÎµÎ¹Î± Î§ÏÎ®ÏƒÎ·Ï‚: [Creative Commons CC BY 4.0](https://creativecommons.org/licenses/by/4.0/)")

# --- Î‘Î¡Î§Î™ÎšÎŸÎ ÎŸÎ™Î—Î£Î— "ÎœÎÎ—ÎœÎ—Î£" (Session State) ---
if 'plan_text' not in st.session_state:
    st.session_state.plan_text = ""
if 'goal' not in st.session_state:
    st.session_state.goal = ""
if 'analysis_output' not in st.session_state:
    st.session_state.analysis_output = []
if 'scores' not in st.session_state:
    st.session_state.scores = {}
if 'current_zone' not in st.session_state:
    st.session_state.current_zone = ""


# --- ÎšÎ¥Î¡Î™Î‘ Î•Î¦Î‘Î¡ÎœÎŸÎ“Î— ---
st.title("ğŸ† Gym-Bot: Î‘Î½Î­Î²Î± Î•Ï€Î¯Ï€ÎµÎ´Î¿!")
st.write(f"Î“ÎµÎ¹Î±, Î¼ÎµÎ»Î»Î¿Î½Ï„Î¹ÎºÎ­ Î®ÏÏ‰Î±! Î•Î¯Î¼Î±Î¹ Î¿ Gym-Bot ğŸ¤–")

# --- Download PDF ---
pdf_file_path = "instructions.pdf"
with st.expander("â“ ÎˆÏ‡Î±ÏƒÎµÏ‚ Ï„Î¿ 'Î¦ÏÎ»Î»Î¿ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®Ï‚' ÏƒÎ¿Ï…;"):
    st.write("ÎšÎ±Ï„Î­Î²Î±ÏƒÎµ Ï„Î¿ Î¾Î±Î½Î¬ Î±Ï€ÏŒ ÎµÎ´Ï Î³Î¹Î± Î½Î± Ï„Î¿ ÎµÎºÏ„Ï…Ï€ÏÏƒÎµÎ¹Ï‚.")
    try:
        with open(pdf_file_path, "rb") as pdf_file:
            PDFbyte = pdf_file.read()
        st.download_button(
            label="ğŸ“¥ ÎšÎ±Ï„Î­Î²Î±ÏƒÎµ Ï„Î¿ Î¦ÏÎ»Î»Î¿ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®Ï‚ (PDF)",
            data=PDFbyte,
            file_name="Fyllo_Apostolis.pdf",
            mime="application/pdf"
        )
    except FileNotFoundError:
        st.error(f"Î£Î¦Î‘Î›ÎœÎ‘: Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ '{pdf_file_path}' ÏƒÏ„Î¿ GitHub repo!")
st.divider() 

# --- 1. Î•Î™Î£Î‘Î“Î©Î“Î— Î”Î•Î”ÎŸÎœÎ•ÎÎ©Î (C) ---
st.header("ğŸ“‹ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® 1: Î‘Î½Î­Î²Î±ÏƒÎµ Ï„Î± Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬ ÏƒÎ¿Ï…")
st.write("ÎšÎ¿Î¯Ï„Î± Ï„Î¿ 'Î¦ÏÎ»Î»Î¿ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®Ï‚' ÏƒÎ¿Ï…. Î Î¿Î¹Î± Î±Ï€ÏŒ Ï„Î¹Ï‚ 3 Î–ÏÎ½ÎµÏ‚ ÏƒÎµ Î´Ï…ÏƒÎºÏŒÎ»ÎµÏˆÎµ **Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ¿**;")

zone_choice = st.selectbox(
    "Î•Ï€Î¯Î»ÎµÎ¾Îµ Ï„Î· Î–ÏÎ½Î· Ï€Î¿Ï… Î¸Î­Î»ÎµÎ¹Ï‚ Î½Î± Î±Î½Î±Î»ÏÏƒÎ¿Ï…Î¼Îµ:",
    ["", "ğŸ”´ Î–Î©ÎÎ— Î”Î¥ÎÎ‘ÎœÎ—Î£ (Î”Î¥Î)", "ğŸ”µ Î–Î©ÎÎ— Î Î¥Î¡Î—ÎÎ‘ & Î™Î£ÎŸÎ¡Î¡ÎŸÎ Î™Î‘Î£ (Î Î¥Î¡)", "ğŸŸ¢ Î–Î©ÎÎ— Î‘ÎÎ¤ÎŸÎ§Î—Î£ (Î‘ÎÎ¤)"]
)

# --- 2. Î”Î¥ÎÎ‘ÎœÎ™ÎšÎ— Î•Î™Î£Î‘Î“Î©Î“Î— Î”Î•Î”ÎŸÎœÎ•ÎÎ©Î ---
# (Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ Î­Î½Î± flag Î³Î¹Î± Î½Î± Î¾Î­ÏÎ¿Ï…Î¼Îµ Î±Î½ Î¸Î± Î´ÎµÎ¯Î¾Î¿Ï…Î¼Îµ Ï„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ Î±Î½Î¬Î»Ï…ÏƒÎ·Ï‚)
show_analysis_button = False

if zone_choice == "ğŸ”´ Î–Î©ÎÎ— Î”Î¥ÎÎ‘ÎœÎ—Î£ (Î”Î¥Î)":
    st.subheader("ÎšÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎµ Ï„Î± ÏƒÎºÎ¿Ï ÏƒÎ¿Ï… ÏƒÏ„Î· 'Î”ÏÎ½Î±Î¼Î·':")
    score1 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î¹Ï‚ ÎšÎ¬Î¼ÏˆÎµÎ¹Ï‚ (Î±ÏÎ¹Î¸Î¼ÏŒÏ‚):", min_value=0, step=1)
    score2 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î± ÎšÎ±Î¸Î¯ÏƒÎ¼Î±Ï„Î± (Î±ÏÎ¹Î¸Î¼ÏŒÏ‚):", min_value=0, step=1)
    score3 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î¿Ï…Ï‚ ÎšÎ¿Î¹Î»Î¹Î±ÎºÎ¿ÏÏ‚ (Î±ÏÎ¹Î¸Î¼ÏŒÏ‚):", min_value=0, step=1)
    st.session_state.current_zone = "Î”Î¥Î"
    show_analysis_button = True

elif zone_choice == "ğŸ”µ Î–Î©ÎÎ— Î Î¥Î¡Î—ÎÎ‘ & Î™Î£ÎŸÎ¡Î¡ÎŸÎ Î™Î‘Î£ (Î Î¥Î¡)":
    st.subheader("ÎšÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎµ Ï„Î± ÏƒÎºÎ¿Ï ÏƒÎ¿Ï… ÏƒÏ„Î¿Î½ 'Î Ï…ÏÎ®Î½Î±':")
    score1 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î· 'Î£Î±Î½Î¯Î´Î±-Î†Î³Î³Î¹Î³Î¼Î± ÎÎ¼Î¿Ï…' (Î±ÏÎ¹Î¸Î¼ÏŒÏ‚):", min_value=0, step=1)
    score2 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î¿Ï…Ï‚ 'Î¡Î±Ï‡Î¹Î±Î¯Î¿Ï…Ï‚ (Î•Î½Î±Î»Î»Î¬Î¾)' (Î±ÏÎ¹Î¸Î¼ÏŒÏ‚):", min_value=0, step=1)
    score3 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î¿ 'Î Î®Î´Î·Î¼Î± & Î Î¬Î³Ï‰Î¼Î±' (Î±ÏÎ¹Î¸Î¼ÏŒÏ‚):", min_value=0, step=1)
    st.session_state.current_zone = "Î Î¥Î¡"
    show_analysis_button = True

elif zone_choice == "ğŸŸ¢ Î–Î©ÎÎ— Î‘ÎÎ¤ÎŸÎ§Î—Î£ (Î‘ÎÎ¤)":
    st.subheader("ÎšÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎµ Ï„Î± ÏƒÎºÎ¿Ï ÏƒÎ¿Ï… ÏƒÏ„Î·Î½ 'Î‘Î½Ï„Î¿Ï‡Î®':")
    score1 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î¿ 'Î£Ï‡Î¿Î¹Î½Î¬ÎºÎ¹ / Jumping Jacks' (Î±ÏÎ¹Î¸Î¼ÏŒÏ‚):", min_value=0, step=1)
    score2 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î± 'Î“ÏŒÎ½Î±Ï„Î± Î¨Î·Î»Î¬' (Î±ÏÎ¹Î¸Î¼ÏŒÏ‚):", min_value=0, step=1)
    score3 = st.number_input("Î£ÎºÎ¿Ï ÏƒÏ„Î¿ 'Î“ÏÎ®Î³Î¿ÏÎ¿ Î£Î»Î¬Î»Î¿Î¼' (Î´Î¹Î±Î´ÏÎ¿Î¼Î­Ï‚):", min_value=0, step=1)
    st.session_state.current_zone = "Î‘ÎÎ¤"
    show_analysis_button = True
else:
    # ÎšÎ±Î¸Î±ÏÎ¯Î¶Î¿Ï…Î¼Îµ Ï„Î·Î½ ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î±Î½ Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ ÎµÏ€Î¹Î»Î­Î¾ÎµÎ¹ Î¶ÏÎ½Î·
    st.session_state.analysis_done = False
    st.session_state.plan_text = ""
    st.session_state.current_zone = ""


# --- 3. ÎšÎŸÎ¥ÎœÎ Î™ Î‘ÎÎ‘Î›Î¥Î£Î—Î£ (Î•Î¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ Î¼ÏŒÎ½Î¿ Î±Î½ Î­Ï‡ÎµÎ¹ ÎµÏ€Î¹Î»ÎµÎ³ÎµÎ¯ Î¶ÏÎ½Î·) ---
if show_analysis_button:
    
    if st.button(f"ğŸš€ Î‘Î½Î¬Î»Ï…ÏƒÎµ Ï„Î· Î–ÏÎ½Î· '{st.session_state.current_zone}'!"):
        st.session_state.analysis_done = True
        
        # Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÎœÏ€Î¬ÏÎ±Ï‚ Î ÏÎ¿ÏŒÎ´Î¿Ï… (Ï€Î¿Î»Ï Î±Ï€Î»Î¿ÏŠÎºÎ¬, Ï€.Ï‡. Î¼Î­ÏƒÎ¿Ï‚ ÏŒÏÎ¿Ï‚ Ï€ÏŒÎ½Ï„Ï‰Î½)
        avg_score = int((score1 + score2 + score3) / 3) 
        st.session_state.scores = {st.session_state.current_zone: avg_score}
        
        analysis_texts = []
        if st.session_state.current_zone == "Î”Î¥Î":
            analysis_texts.append(("info", "ğŸ’ª **Î”Î¥Î (Î”ÏÎ½Î±Î¼Î·):** Î•Î½Ï„Î¬Î¾ÎµÎ¹, Î±Ï…Ï„Î® Î· Î¶ÏÎ½Î· Î®Ï„Î±Î½ Ï€ÏÏŒÎºÎ»Î·ÏƒÎ·! Î— Î”ÏÎ½Î±Î¼Î· Ï‡Ï„Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÎ¹Î³Î¬-ÏƒÎ¹Î³Î¬. Î•Î¯Î½Î±Î¹ Ï„Î­Î»ÎµÎ¹Î¿ ÏƒÎ·Î¼ÎµÎ¯Î¿ Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Ï„Î· Î²ÎµÎ»Ï„Î¯Ï‰ÏƒÎ® ÏƒÎ¿Ï…! +10 Î ÏŒÎ½Ï„Î¿Î¹ Î•Î¼Ï€ÎµÎ¹ÏÎ¯Î±Ï‚ (Î Î•) Î³Î¹Î± Ï„Î·Î½ Ï€ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹Î±!"))
        elif st.session_state.current_zone == "Î Î¥Î¡":
            analysis_texts.append(("info", "ğŸ§˜ **Î Î¥Î¡ (Î Ï…ÏÎ®Î½Î±Ï‚):** ÎŸ Î Ï…ÏÎ®Î½Î±Ï‚ (ÎºÎ¿Î¹Î»Î¹Î¬/ÏÎ¬Ï‡Î·) ÎµÎ¯Î½Î±Î¹ Î· Î²Î¬ÏƒÎ· ÏƒÎ¿Ï…! Î¤Î¿ ÏŒÏ„Î¹ ÏƒÎµ Î´Ï…ÏƒÎºÏŒÎ»ÎµÏˆÎµ ÏƒÎ·Î¼Î±Î¯Î½ÎµÎ¹ ÏŒÏ„Î¹ Î²ÏÎ®ÎºÎ±Î¼Îµ Î±ÎºÏÎ¹Î²ÏÏ‚ Ï€Î¿Ï Î¸Î± Î´Ï…Î½Î±Î¼ÏÏƒÎµÎ¹Ï‚!"))
        elif st.session_state.current_zone == "Î‘ÎÎ¤":
            analysis_texts.append(("info", "âš¡ **Î‘ÎÎ¤ (Î‘Î½Ï„Î¿Ï‡Î®):** Î›Î±Ï‡Î¬Î½Î¹Î±ÏƒÎµÏ‚; Î— Î±Î½Ï„Î¿Ï‡Î® ÎµÎ¯Î½Î±Î¹ ÎºÎ»ÎµÎ¹Î´Î¯ Î³Î¹Î± Ï„Î¿ Ï€Î±Î¹Ï‡Î½Î¯Î´Î¹. ÎšÎ±Î»ÏŒÏ‚ ÏƒÏ„ÏŒÏ‡Î¿Ï‚ Î³Î¹Î± ÎµÎ¾Î¬ÏƒÎºÎ·ÏƒÎ·!"))
        
        st.session_state.analysis_output = analysis_texts
        st.session_state.goal = ""
        st.session_state.plan_text = ""


# --- 4. Î•ÎœÎ¦Î‘ÎÎ™Î£Î— Î‘ÎÎ‘Î›Î¥Î£Î—Î£ ÎšÎ‘Î™ Î£Î¤ÎŸÎ§Î©Î ---
if st.session_state.analysis_done:
    st.header("ğŸ“Š Î— Î‘Î½Î±Ï†Î¿ÏÎ¬ ÏƒÎ¿Ï…")
    
    # Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Î¼Ï€Î¬ÏÎ±Ï‚ Î¼ÏŒÎ½Î¿ Î³Î¹Î± Ï„Î· Î¶ÏÎ½Î· Ï€Î¿Ï… ÎµÏ€Î¹Î»Î­Ï‡Î¸Î·ÎºÎµ
    for zone_name, score in st.session_state.scores.items():
        st.write(f"Î™ÎºÎ±Î½ÏŒÏ„Î·Ï„Î± {zone_name}:")
        # % 101 Î³Î¹Î± Î½Î± Î±Ï€Î¿Ï†ÏÎ³Î¿Ï…Î¼Îµ ÏƒÏ†Î¬Î»Î¼Î± Î±Î½ Ï„Î¿ ÏƒÎºÎ¿Ï ÎµÎ¯Î½Î±Î¹ 0 ÎºÎ±Î¹ Î½Î± Î¼Î­Î½ÎµÎ¹ Ï€Î¬Î½Ï„Î± 0-100
        st.progress(score % 101) 
    
    for msg_type, text in st.session_state.analysis_output:
        st.info(text)

    st.header("ğŸ¯ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® 2: Î’Î¬Î»Îµ Î£Ï„ÏŒÏ‡Î¿")
    st.write("Î¤ÏÏÎ± Ï€Î¿Ï… ÎµÎ¯Î´ÎµÏ‚ Ï„Î·Î½ Î±Î½Î¬Î»Ï…ÏƒÎ·, Î³ÏÎ¬ÏˆÎµ Ï„Î· Î½Î­Î± ÏƒÎ¿Ï… Î±Ï€Î¿ÏƒÏ„Î¿Î»Î®!")
    
    goal_input = st.text_area("Î“ÏÎ¬ÏˆÎµ Ï„Î·Î½ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® ÏƒÎ¿Ï… (Ï€.Ï‡. 'ÎÎ± Î±Î½Î­Î²Ï‰ ÎµÏ€Î¯Ï€ÎµÎ´Î¿ ÏƒÏ„Î· Î”ÏÎ½Î±Î¼Î·, +3 ÎºÎ¬Î¼ÏˆÎµÎ¹Ï‚')", key="goal_text_area")

    if st.button("ğŸ“œ ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®Ï‚!"):
        if not goal_input:
            st.warning("Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î³ÏÎ¬ÏˆÎµÎ¹Ï‚ Ï„Î·Î½ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® ÏƒÎ¿Ï… Ï€ÏÏÏ„Î±!")
            st.session_state.plan_text = ""
        else:
            st.session_state.goal = goal_input
            st.balloons()
            st.success(f"ÎÎ­Î± Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®: '{st.session_state.goal}'! Î›Î±Î¼Î²Î¬Î½ÎµÎ¹Ï‚ 'Î Î¬Ï€Ï…ÏÎ¿ Î ÏÎ¿Ï€ÏŒÎ½Î·ÏƒÎ·Ï‚'!")
            
            plan_text = f"## ğŸ“œ Î Î¬Ï€Ï…ÏÎ¿Ï‚ Î ÏÎ¿Ï€ÏŒÎ½Î·ÏƒÎ·Ï‚ ğŸ“œ\n\n"
            plan_text += f"**Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®:** {st.session_state.goal}\n\n"
            
            # Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï€Î»Î¬Î½Î¿Ï…
            if "Î´ÏÎ½Î±Î¼Î·" in st.session_state.goal.lower() or "ÎºÎ¬Î¼ÏˆÎµÎ¹Ï‚" in st.session_state.goal.lower() or "ÎºÎ±Î¸Î¯ÏƒÎ¼Î±Ï„Î±" in st.session_state.goal.lower():
                plan_text += "Î“Î¹Î± Ï„Î·Î½ **Î”Î¥ÎÎ‘ÎœÎ—**, Ï€ÏÎ¿Ï„ÎµÎ¯Î½Ï‰ Î±Ï…Ï„ÏŒ Ï„Î¿ **Î Î»Î¬Î½Î¿**:\n"
                plan_text += "1. ğŸ—“ï¸ **Î£Ï…Ï‡Î½ÏŒÏ„Î·Ï„Î±:** 3 Ï†Î¿ÏÎ­Ï‚ Ï„Î·Î½ ÎµÎ²Î´Î¿Î¼Î¬Î´Î±.\n"
                plan_text += "2. ğŸ‹ï¸ **Î£ÎµÏ„:** 3 ÏƒÎµÏ„ ÎšÎ¬Î¼ÏˆÎµÎ¹Ï‚, 3 ÏƒÎµÏ„ ÎšÎ±Î¸Î¯ÏƒÎ¼Î±Ï„Î±.\n"
                plan_text += "3. ğŸ“ˆ **Î•Ï€Î±Î½Î±Î»Î®ÏˆÎµÎ¹Ï‚:** ÎšÎ¬Î½Îµ ÏŒÏƒÎµÏ‚ Î¼Ï€Î¿ÏÎµÎ¯Ï‚! Î ÏÎ¿ÏƒÏ€Î¬Î¸Î·ÏƒÎµ Ï„Î·Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î· Ï†Î¿ÏÎ¬ Î½Î± ÎºÎ¬Î½ÎµÎ¹Ï‚ +1!"
                
            elif "Ï€Ï…ÏÎ®Î½Î±" in st.session_state.goal.lower() or "ÏƒÎ±Î½Î¯Î´Î±" in st.session_state.goal.lower() or "ÎºÎ¿Î¹Î»Î¹Î¬" in st.session_state.goal.lower():
                plan_text += "Î“Î¹Î± Ï„Î¿Î½ **Î Î¥Î¡Î—ÎÎ‘**, Ï€ÏÎ¿Ï„ÎµÎ¯Î½Ï‰ Î±Ï…Ï„ÏŒ Ï„Î¿ **Î Î»Î¬Î½Î¿**:\n"
                plan_text += "1. ğŸ—“ï¸ **Î£Ï…Ï‡Î½ÏŒÏ„Î·Ï„Î±:** 4 Ï†Î¿ÏÎ­Ï‚ Ï„Î·Î½ ÎµÎ²Î´Î¿Î¼Î¬Î´Î±.\n"
                plan_text += "2. ğŸ‹ï¸ **Î£ÎµÏ„:** 3 ÏƒÎµÏ„ 'Î£Î±Î½Î¯Î´Î± Î¼Îµ Î†Î³Î³Î¹Î³Î¼Î± ÎÎ¼Î¿Ï…', 3 ÏƒÎµÏ„ Î¡Î±Ï‡Î¹Î±Î¯Î¿Ï…Ï‚.\n"
                plan_text += "3. ğŸ“ˆ **Î§ÏÏŒÎ½Î¿Ï‚/Reps:** Î ÏÎ¿ÏƒÏ€Î¬Î¸Î·ÏƒÎµ Î½Î± ÎºÎ¬Î½ÎµÎ¹Ï‚ +2 ÎµÏ€Î±Î½Î±Î»Î®ÏˆÎµÎ¹Ï‚ Î® +5 Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î± ÏƒÎµ ÎºÎ¬Î¸Îµ ÏƒÎµÏ„!"
            
            elif "Î±Î½Ï„Î¿Ï‡Î®" in st.session_state.goal.lower() or "Ï„ÏÎ­Î¾Î¹Î¼Î¿" in st.session_state.goal.lower() or "ÏƒÏ‡Î¿Î¹Î½Î¬ÎºÎ¹" in st.session_state.goal.lower():
                plan_text += "Î“Î¹Î± Ï„Î·Î½ **Î‘ÎÎ¤ÎŸÎ§Î—**, Ï€ÏÎ¿Ï„ÎµÎ¯Î½Ï‰ Î±Ï…Ï„ÏŒ Ï„Î¿ **Î Î»Î¬Î½Î¿**:\n"
                plan_text += "1. ğŸ—“ï¸ **Î£Ï…Ï‡Î½ÏŒÏ„Î·Ï„Î±:** 3-4 Ï†Î¿ÏÎ­Ï‚ Ï„Î·Î½ ÎµÎ²Î´Î¿Î¼Î¬Î´Î±.\n"
                plan_text += "2. ğŸ‹ï¸ **Î”ÏÎ¬ÏƒÎ·:** Î Î±Î¯Î¾Îµ ÎºÏ…Î½Î·Î³Î·Ï„ÏŒ Î® Î¼Ï€Î¬ÏƒÎºÎµÏ„ ÏƒÏ„Î¿ Î´Î¹Î¬Î»ÎµÎ¹Î¼Î¼Î±. Î•Î¯Î½Î±Î¹ Î· ÎºÎ±Î»ÏÏ„ÎµÏÎ· Ï€ÏÎ¿Ï€ÏŒÎ½Î·ÏƒÎ·!\n"
                plan_text += "3. ğŸ“ˆ **ÎœÏ€ÏŒÎ½Î¿Ï…Ï‚:** ÎšÎ¬Î½Îµ 4 ÏƒÎµÏ„ 'Î“ÏŒÎ½Î±Ï„Î± Î¨Î·Î»Î¬' Î³Î¹Î± 1 Î»ÎµÏ€Ï„ÏŒ Ï„Î¿ ÎºÎ±Î¸Î­Î½Î±."

            else:
                plan_text += "Î‘Ï…Ï„Î® ÎµÎ¯Î½Î±Î¹ Î•Ï€Î¹ÎºÎ® Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®! Î“Î¹Î± Î½Î± Ï„Î·Î½ Ï€ÎµÏ„ÏÏ‡ÎµÎ¹Ï‚, Î¸Ï…Î¼Î®ÏƒÎ¿Ï… Ï„Î¿Î½ Ï‡ÏÏ…ÏƒÏŒ ÎºÎ±Î½ÏŒÎ½Î±:\n"
                plan_text += "1. ğŸ—“ï¸ **Î£Ï…Î½Î­Ï€ÎµÎ¹Î±:** ÎšÎ¬Î½Îµ ÎºÎ¬Ï„Î¹ ÎºÎ¬Î¸Îµ Î¼Î­ÏÎ± (Ï€.Ï‡. 10 Î»ÎµÏ€Ï„Î¬ Î¬ÏƒÎºÎ·ÏƒÎ·).\n"
                plan_text += "2. ğŸ”¥ **ÎˆÎ½Ï„Î±ÏƒÎ·:** Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î»Î±Ï‡Î±Î½Î¹Î¬Î¶ÎµÎ¹Ï‚ Î»Î¹Î³Î¬ÎºÎ¹!\n"
                plan_text += "3. ğŸ **ÎšÎ±Î»Î® Î´Î¹Î±Ï„ÏÎ¿Ï†Î®:** ÎœÎ·Î½ Î¾ÎµÏ‡Î½Î¬Ï‚ Ï„Î± 'Î¦Î¯Î»Ï„ÏÎ± Î–Ï‰Î®Ï‚' (Ï†ÏÎ¿ÏÏ„Î±/Î½ÎµÏÏŒ)!"
            
            st.session_state.plan_text = plan_text
            
    # Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Ï„Î¿Ï… Ï€Î»Î¬Î½Î¿Ï… (Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÏƒÏ„Î· Î¼Î½Î®Î¼Î·)
    if st.session_state.plan_text:
        st.markdown(st.session_state.plan_text, unsafe_allow_html=True)
        st.download_button(
            label="ğŸ“¥ ÎšÎ±Ï„Î­Î²Î±ÏƒÎµ Ï„Î·Î½ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® ÏƒÎ¿Ï…!",
            data=st.session_state.plan_text,
            file_name=f"Î—_Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®_ÎœÎ¿Ï….txt"
        )
        
        st.divider()
        st.header("âœ¨ ÎœÎ ÎŸÎÎŸÎ¥Î£: Î— 'Î§ÏÏ…ÏƒÎ® Î£Ï…Î¼Î²Î¿Ï…Î»Î®' ÏƒÎ¿Ï…")
        st.write("Î˜Ï…Î¼Î®ÏƒÎ¿Ï… Ï„Î· ÏƒÏ…Î¼Î²Î¿Ï…Î»Î® Ï€Î¿Ï… ÏƒÎ¿Ï… Î­Î´Ï‰ÏƒÎµ Î¿ Ï†Î¯Î»Î¿Ï‚ ÏƒÎ¿Ï… ÏƒÏ„Î·Î½ Î±Ï…Î»Î® (ÎœÎ­ÏÎ¿Ï‚ 2 Ï„Î¿Ï… Î¦ÏÎ»Î»Î¿Ï…).")
        st.write("Î Î®Î³Î±Î¹Î½Îµ ÏƒÏ„Î¿ Google Doc / Padlet Ï€Î¿Ï… ÏƒÎ¿Ï… Î­Î´Ï‰ÏƒÎµ Î¿ Î´Î¬ÏƒÎºÎ±Î»Î¿Ï‚ ÎºÎ±Î¹ Î³ÏÎ¬ÏˆÎµ Ï„Î·Î½!")